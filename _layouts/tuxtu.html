<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>TuxTu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap');

        h1, h2, nav ul li a {
            font-family: 'Montserrat', sans-serif;
        }

        html,
        body {
            top: 0;
            left: 0;
            margin: 0;
            scroll-behavior: smooth;
        }

        header,
        main,
        section,
        nav,
        ul {
            top: 0;
            left: 0;
            margin: 0;
            padding: 0;
        }

        header {
            position: fixed;
            height: 70px;
            width: 100%;
            background: white;
            z-index: 1;
        }

        nav {
            background: green;
            position: fixed;
            height: 60vh;
            width: 250px;
            margin-left: 5vw;
            margin-top: 20vh;
            z-index: 2;
            border-radius: 20px;

            display: flex;
            flex-direction: column;
        }

        nav ul {
            list-style: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }


        nav ul li a {
            padding: 7px;
            text-decoration: none;
            font-size: 2vh;
            font-weight: 400;
            color: white;
            opacity: 0.7;
            transition: font-size 0.5s;
        }

        nav ul li a.animActive {
            font-size: 2.5vh;
            font-weight: 700;
            opacity: 1;
        }

        main {
            height: 100vh;
            width: 100vw;
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
        }

        section {
            position: relative;
            height: 100vh;
            width: 100vw;
            background: orange;
            scroll-snap-align: center;
        }

        section h1 {
            top: 10vh;
            left: 50%;
            position: absolute;
            text-align: center;
            color: white;
            transform: translate(-50%, -50%);
            font-weight: 700;
        }

        @media (orientation: portrait) {
            nav {
                display: none;
            }
        }
    </style>
</head>

<body>
    <header>
        <h2>ciao</h2>
    </header>

    <nav>
        <ul>
            <li><a data-animtarget='n1' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n2' href="#lista-aperta">Lista Aperta</a></li>
            <li><a data-animtarget='n3' href="#terna-sinistrorsa">Terna Sinistrorsa</a></li>
            <li><a data-animtarget='n4' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n5' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n6' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n7' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n8' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n9' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n10' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n11' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n12' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n13' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n14' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n15' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n16' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n17' href="#svoltastudenti">Svoltastudenti</a></li>
            <li><a data-animtarget='n18' href="#svoltastudenti">Svoltastudenti</a></li>
        </ul>
    </nav>

    <main>
        <section id="svoltastudenti" class="animTrigger n1" data-animId='n1'>
            <div class="overlay"></div>
            <h1 data-animtarget='n1'>SVOLTASTUDENTI</h1>
        </section>

        <section id="lista-aperta" class="animTrigger n2" data-animId='n2'>
            <div class="overlay"></div>
            <h1 data-animtarget='n2'>LISTA APERTA</h1>
        </section>

        <section id="terna-sinistrorsa" class="animTrigger n3" data-animId='n3'>
            <div class="overlay"></div>
            <h1 data-animtarget='n3'>TERNA SINISTRORSA</h1>
        </section>
    </main>

    <script>
        let options = {
            root: null,
            rootMargin: "0px",
            threshold: [0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15,
                0.16,
                0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32,
                0.33,
                0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.4, 0.41, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47, 0.48, 0.49,
                0.5,
                0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57, 0.58, 0.59, 0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66,
                0.67,
                0.68, 0.69, 0.7, 0.71, 0.72, 0.73, 0.74, 0.75, 0.76, 0.77, 0.78, 0.79, 0.8, 0.81, 0.82, 0.83,
                0.84,
                0.85, 0.86, 0.87, 0.88, 0.89, 0.9, 0.91, 0.92, 0.93, 0.94, 0.95, 0.96, 0.97, 0.98, 0.99, 1
            ]
        };

        observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.target.dataset.animid) {
                    let targets = document.querySelectorAll(
                        `*[data-animtarget="${entry.target.dataset.animid}"]`);
                    targets.forEach(item => {
                        if (entry.intersectionRatio > 0.5) {
                            item.classList.add('animActive');
                        } else if (entry.intersectionRatio < 0.95) {
                            item.classList.remove('animActive');
                        }
                    })

                }
            });
        }, options);

        document.querySelectorAll('.animTrigger').forEach(item => {
            observer.observe(item);
        })
    </script>
</body>

</html>