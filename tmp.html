<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Svoltastudenti - Homepage</title>
    <link rel="stylesheet" href="/assets/style.css">
    <script>
        const default_el = document.getElementById('homepage-intro');
        const debounce = 500;
        let lastPos = 0;
        let lastTime = Date.now();  // If the url contains a fragment we are alreasy scrolling at the beginning of the visit. If not no problem, we will just wait few ms
        
        document.addEventListener('DOMContentLoaded', _ => {
            document.addEventListener('scroll', function() {
                let el = document.getElementById(window.location.hash.replace('#', ''));
                if (!el){
                    el = default_el;
                }
                
                if (window.scrollY > lastPos){
                    // We are at the end of the scroll, no need to reset it
                    console.log('prev');
                    el = el.nextElementSibling;
                }
                if (window.scrollY < lastPos){
                    // We are at the end of the scroll, no need to reset it
                    console.log('next');
                    el = el.previousElementSibling;
                }
                
                if (el && (Date.now() > (lastTime + debounce))){
                    console.log('SCROLLING');
                    console.log(el);
                    el.scrollIntoView({behavior: 'smooth', block: 'start', inline: 'start'});
                    window.location.hash = `#${el.id}`;
                }
                else {
                    console.log('debounce');
                }
                
                lastPos = window.scrollY;
                lastTime = Date.now();
            });
        });
    </script>
    <style>
        .imageBackground {
            background-origin:padding-box;
            background-position:center;
            background-repeat:no-repeat;
            background-size:cover;
            background-color:#FF6600;
        }
        
        #homepage-intro {
            background-image: url('/assets/bg/jpg');
        }
        #homepage-intro:target {
            
        }
        #homepage-associazione {
            background-color: whitesmoke;
        }
        #homepage-associazione:target {
            background-color: red;
        }
        
        #homepage-rappresentanza {
            background-color: green;
        }
        #homepage-rappresentanza:target {
            
        }
        
        #homepage-notizie {
            background-color: pink;
        }
        #homepage-notizie:target {
            
        }
        
        #homepage-eventi {
            background-color: orange;
        }
        #homepage-eventi:target {
            
        }
        
        #homepage-contatti {
            
        }
        #homepage-contatti:target {
            
        }
    </style>
</head>

<body>
    <input id="menu" type="checkbox"></input>
    <header for='menu'>
        <ul>
            <h1>giornale</h1>
        </ul>
        <ul>
            <li><a href="pages/associazione.html">Associazione</a></li>
            <li><a href="pages/rappresentanza.html">Rappresentanza</a></li>
            <li><a href="#">Notizie</a></li>
            <li><a href="#">Eventi</a></li>
          </ul>
    </header>

    <main id="homepage">
        <section id="homepage-intro" class="imageBackground">
            <img id='logo' src="/assets/logo.png" alt="logo">
        </section>
        <section id="homepage-associazione">
            <a href="pages/associazione.html">Associazione</a>
        </section>
        <section id="homepage-rappresentanza">
            <a href="pages/rappresentanza.html">Rappresentanza</a>
        </section>
        <section id="homepage-notizie">
            <h1>Notizie</h1>
        </section>
        <section id="homepage-eventi">
            <h1>Eventi</h1>
        </section>
        <section id="homepage-contatti">
            <h1>Contatti</h1>
        </section>
    </main>

    <!-- <script src="scripts/index.js"></script> -->
</body>

</html>
